VERSION := $(shell grep -v "^\#" ../../../.version)

EGG_DIR = pycodcif-${VERSION}.egg-info

.PHONY: all build build-2 build-3 install install-2 install-3

all: build

build: ${PYTHON2_BUILD} # ${PYTHON3_BUILD}

install: install-2 # install-3

${PYTHON2_BUILD}: ${SWIG_C_FILE} ${SWIG_I_FILE}
	python setup.py build --build-lib build/2

install-2:
	python setup.py install --root ${PREFIX}

${PYTHON3_BUILD}: ${SWIG_C_FILE} ${SWIG_I_FILE}
	python setup.py build --build-lib build/3

install-3:
	python3 setup.py install --root ${PREFIX}

clean:
	rm  -f pycodcif_wrap.c
	rm -rf build pycodcif.egg-info

distclean cleanAll: clean
	rm -rf pycodcif.py _pycodcif.so
